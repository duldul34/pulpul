<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
  layout:decorate="~{layout/default_layout}">

  <th:block layout:fragment="css">
    <link th:href="@{/css/fragments/header.css}" rel="stylesheet" />
	  <link th:href="@{/css/fragments/footer.css}" rel="stylesheet" />
  	<link rel="stylesheet" th:href="@{/css/market/shareThingList.css}" >
  </th:block>
  
  <th:block layout:fragment="script">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  	<script th:src="@{/js/market/shareThingList.js}"></script>
  </th:block>
  

	<div layout:fragment="content">
		<div id="pageWrap">
      <div id="pageTit">공유 물품 관리</div>
      <div id="pageSubTit">공유 물품 목록</div>
      
      <div id="menu">
		    <div><a href="/market/view" class="list">마켓 정보</a></div>
		    <div>|</div>
		    <div><a href="/market/goods/list" class="list">상품 관리</a></div>
		    <div>|</div>
		    <div><a href="/market/shareThing/list" class="list-on">공유 물품 관리</a></div>
		  </div>

      <table>
        <tr>
          <td class="item-img"></td>
          <td class="item-info">상품 정보</td>
          <td class="item-rental">대여 상태</td>
          <td class="item-waiting">대기자</td>
          <td class="item-btn"></td>
        </tr>

        <tr th:each="shareThing : ${shareThingList}" th:style="${shareThing.item.openStatus == 0 ? 'background-color: #f3f3f4;' : ''}">
          <td><img th:src="${shareThing.item.thumbnailUrl}" width="100px" height="100px"/></td>
          <td th:text="${shareThing.item.name}"></td>
          <td>
            <div class="rental-status-on" th:text="${shareThing.isBorrowed == 0 ? '대여 가능' : '대여 불가'}"></div>
          </td>
          <td th:text="${shareThing.reservationNumber}">대기자</td>
          <td>
            <div class="buttonWrap">
              <button class="rentalStatusBtn" th:onclick="findBorrowShareThing([[${shareThing.item.id}]])">대여 현황</button>
              <button class="deleteBtn" th:onclick="deleteShareThing([[${shareThing.item.id}]])">삭제</button>
            </div>
          </td>
        </tr>
      </table>
      <button id="addItemBtn" onclick="location.href='/market/shareThing/upload'">상품 추가</button>
    </div>
	</div>
</html>